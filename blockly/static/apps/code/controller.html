<!DOCTYPE html>
<html>
<head>
	<title>Remote Control</title>
	<link rel="stylesheet" type="text/css" href="control_style.css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
	<div class="up" onclick="move('up')"><img src="img/arrowUp.png"></div></div>
	<div class="left" onclick="move('left')"><img src="img/arrowLeft.png"></div></div>
	<div class="right" onclick="move('right')"><img src="img/arrowRight.png"></div></div>
	<div class="down" onclick="move('down')"><img src="img/arrowDown.png"></div></div>

<script type="text/javascript">
	
	function move(direction) {
		var msg;
		/*if (direction == 'up') {
			msg = "{\"py/object\": \"message.Message\", \"content\": \"up\", \"destination\": \"spiderman\", \"channel\": \"Message\", \"source\": \"web\"}";
		}*/
		msg = direction;
		sendMessage2(msg);
		//alert(direction + " clicked");
	}

// testing to send a method using ajax
function sendMessage2(message) {
	$.ajax({
		type: 'POST',
		url: 'http://spiderman.rit.edu/webController',
		data: message,
		success: function(response) {
			console.log(response);
		},
		error: function(response) {
			console.log(response);
		}
	})
}

// send a message to the pi
function sendMessage(message) {
	var piAddress = "ws://spiderman.rit.edu";
	var socket = new WebSocket(piAddress);

	if (socket) {
		socket.send(message);
	} else {
		alert("invalid socket");
	}
}

/*
	Message that needs to be sent in pickle form:
	Source: web.rit.edu
	destination: spiderman
	Channel: Message
	content: up
*/

</script>
</body>
</html>